<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>收件人管理</title>
		<style>
			#add_recipients_form .layui-form-label {
				width: 110px;
			}
		</style>
	</head>

	<body>
		<div class="layui-tab layui-tab-card" lay-filter="package-info-card">
			<ul class="layui-tab-title">
				<li class="layui-this">收件人列表</li>
				<li>添加收件人</li>
			</ul>
			<div class="layui-tab-content white-back">
				<div class="layui-tab-item layui-show">
					<form class="layui-form filter-form" url="/api/BasicReceiver/GetMy" id="recipients_info_search_form">
						<ul>
							<li>
								<span>姓名</span>
								<input class="layui-input form-input" placeholder="请输入姓名" name="receivername">
							</li>
							<li>
								<span>联系电话</span>
								<input class="layui-input form-input" placeholder="请输入联系电话" name="mobilephone">
							</li>
							<li>
								<span>身份证号码</span>
								<input class="layui-input form-input" placeholder="请输入身份证号码" name="idcardnumber">
							</li>
							<li>
								<span>地址</span>
								<input class="layui-input form-input" placeholder="请输入地址" name="receiveraddress">
							</li>
							<li>
								<button type="button" class="layui-btn layui-btn-sm layui-btn-normal filter-btn">查询</button>
								<button type="reset" class="layui-btn layui-btn-sm layui-btn-primary">重置</button>
							</li>
						</ul>
					</form>
					<div class="data-table-container">
						<table id="recipients_info_table" lay-filter="recipients_info_table"></table>
					</div>
				</div>
				<div class="layui-tab-item">
					<form class="layui-form" id="add_recipients_form" submit-url="/api/BasicReceiver/Post" submit-type="post" enctype="multipart/form-data" succ-msg="添加成功！">
						<div class="layui-form-item">
							<label class="layui-form-label required-logo">姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="receivername" required lay-verify="required" placeholder="请输入收件人姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">收件地区</label>
							<div class="layui-input-inline">
								<select name="">请选择省份</select>
								<select name="">请选择城市</select>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">地址</label>
							<div class="layui-input-inline">
								<input type="text" name="receiveraddress" required lay-verify="required" placeholder="请输入收件人地址" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">手机</label>
							<div class="layui-input-inline">
								<input type="text" name="mobilephone" required lay-verify="required|phone" placeholder="请输入收件人的手机号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">邮箱</label>
							<div class="layui-input-inline">
								<input type="text" name="title" required lay-verify="required|email" placeholder="请输入收件人的邮箱号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">身份证号码</label>
							<div class="layui-input-inline">
								<input type="text" name="idcardnumber" required lay-verify="identity" placeholder="请输入收件人的身份证号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">身份证正面照片</label>
							<div class="layui-input-inline">
								<input type="file" name="idcardzheng" required lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">身份证反面照片</label>
							<div class="layui-input-inline">
								<input type="file" name="idcardfan" required lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<div class="layui-input-block">
								<button class="layui-btn layui-btn-normal" lay-submit lay-filter="submit-user-info">保存</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<script>
			window.onload = function() {
				getDataByForm();

				layui.use(['form'])
			}
		</script>
		<script>
			layui.use(['form', 'element','table'], function() {
				var table = layui.table;
				comm.bindFilterForm({
					formId: "recipients_info_search_form",
					renderTable: {
						elem: '#recipients_info_table',
						cols: [
							[{
								checkbox: true
							}, {
								field: 'receivername',
								title: '姓名',
							}, {
								field: '',
								title: '购买人',
							}, {
								field: 'mobilephone',
								title: '电话',
								sort: true,
							}, {
								field: 'regioncity',
								title: '地区',
								width: 120,
							}, {
								field: 'receiveraddress',
								title: '地址',
							}, {
								field: 'idcardnumber',
								title: '身份证',
							}, {
								field: 'idcardzheng',
								title: '正面',
							}, {
								field: 'idcardfan',
								title: '反面',
							}, {
								field: '',
								title: '操作',
								toolbar: '#operation'
							}]
						]
					}
				});
				table.on('tool(recipients_info_table)', function(obj) {
					var data = obj.data;
					var layEvent = obj.event;
					var tr = obj.tr;

					if(layEvent === 'detail') { //查看详情

					} else if(layEvent === 'delete') { //删除包裹信息
						layer.confirm('是否确认删除该包裹信息1？', function(index) {
							obj.del();
							layer.alert("尚未开发，敬请期待");
						});
					} else if(layEvent === 'edit') { //编辑包裹信息
						layer.open({
							type: 2,
							title: '包裹信息编辑',
							shadeClose: true,
							maxmin: true,
							area: ['80%', '600px'],
						//	content: './package-info-edit.html?id='+data.id
						});

					} else if(layEvent === 'reject') { //包裹退货
						layer.alert("尚未开发，敬请期待");
					}
				});
			});
		</script>
		<script type="text/html" id="operation">
			<a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="edit">编辑</a>
			<a class="layui-btn layui-btn-danger layui-btn-sm" lay-event="delete">删除</a>
		</script>
	</body>

</html>