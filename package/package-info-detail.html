<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="../static/js/plugin/layui/css/layui.css" />
		<link rel="stylesheet/less" href="../static/css/common.less" />
		<title>包裹管理</title>
	</head>

	<body>
		<div class="layui-tab-content">
			<div class="layui-tab-item layui-show">
				<table class="fill-page-container layui-table" id="package_detail_cont" lay-filter="package-detail-cont" fill-type="get">
					<tr>
						<th>送达仓库</th>
						<td>
							<span name="depotid" class="page-field-cont"></span>
						</td>
						<th>送达方式</th>
						<td>
							<span name="trackingname" class="page-field-cont"></span>

						</td>
						<th>包裹追踪号</th>
						<td>
							<span name="trackingnumber" class="page-field-cont"></span>
						</td>
					</tr>
					<tr>
						<th>物品明细</th>
						<td colspan="5" class="padd-0">
							<table class="layui-table margin-0 table-inner-table" lay-size="sm">
								<thead>
									<tr>
										<th>类别</th>
										<th>物品名称</th>
										<th>规格</th>
										<th>品牌</th>
										<th>数量</th>
										<th>单价($)</th>
										<th>单位</th>
									</tr>
								</thead>
								<tbody id="detail_body">
									<tr class="detail-tr">
										<td><span name="taxcategoryid"></span></td>
										<td><span name="mingcheng"></span></td>
										<td><span name="guige"></span></td>
										<td><span name="pinpai"></span></td>
										<td><span name="count"></span></td>
										<td><span name="danjia"></span></td>
										<td><span name="danwei"></span></td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>备注</th>
						<td colspan="5"><span name="remark"></span></td>
					</tr>
				</table>
			</div>
		</div>
		<!--[if lt IE 9]>
	    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
	    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->
		<script src="../static/js/jquery.min.js"></script>
		<script src="../static/js/plugin/layui/layui.js"></script>
		<script src="../static/js/comm.js"></script>
		<script src="../static/js/less.min.js"></script>
		<script>
			layui.use(['form', 'element', 'table'], function() {
				var cloneLine = $(".detail-tr").first().clone();
				var form = layui.form;
				var table = layui.table;

				$("#package_detail_cont").attr("fill-url", "/api/OrderPackage/UnInDetails?modelId=" + comm.getUrlParam("id"));

				comm.fillContainerByUrl({
					cont: $("#package_detail_cont"),
					cb: function(data) {
						var detaillist = data.detaillist;
						var len = detaillist.length - $("#detail_body .detail-tr").length;

						detaillist.map(function(v, index, arr) {
							for(var i = 0; i < len; i++) {
								$("#detail_body").append(cloneLine);
							}
							for(var key in v) {
								var $cont = $("#detail_body .detail-tr:eq(" + index + ")").find("*[name='" + key + "']");
								$cont.text(v[key]).data("data", v[key]);
							}
						});
					}
				});
			});
		</script>
		<script src="../static/js/comm-inner-page.js"></script>
	</body>

</html>