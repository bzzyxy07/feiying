<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<div class="layui-tab layui-tab-card" lay-filter="package-info-card">
			<ul class="layui-tab-title">
				<li class="layui-this">发件人列表</li>
				<li>添加发件人</li>
			</ul>
			<div class="layui-tab-content white-back">
				<div class="layui-tab-item layui-show">
					<form class="layui-form filter-form"  url="/api/BasicDeliver/GetMy" id="sender_info_search_form">
						<ul>
							<li>
								<span>姓名</span>
								<input class="layui-input form-input" placeholder="请输入姓名" name="delivername">
							</li>
							<li>
								<span>联系电话</span>
								<input class="layui-input form-input" placeholder="请输入联系电话" name="mobilephone">
							</li>
							<li>
								<span>身份证号码</span>
								<input class="layui-input form-input" placeholder="请输入身份证号码" name="idcardnumber">
							</li>
							<li>
								<span>地址</span>
								<input class="layui-input form-input" placeholder="请输入地址" name="deliveraddress">
							</li>
							<li>
								<button type="button" class="layui-btn layui-btn-sm layui-btn-normal filter-btn">查询</button>
								<button type="reset" class="layui-btn layui-btn-sm layui-btn-primary">重置</button>
							</li>
						</ul>
					</form>
					<div class="data-table-container">
						<table id="sender_info_table" lay-filter="sender_info_table"></table>
					</div>
				</div>
				<div class="layui-tab-item">
					<form class="layui-form" id="add_sender_form" url="" submit-url="/api/BasicDeliver/Post" submit-type="post" succ-msg="添加成功！">
						<div class="layui-form-item">
							<label class="layui-form-label required-logo">姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="delivername" required lay-verify="required" placeholder="请输入您的姓名" autocomplete="off" class="layui-input">
							</div>
						</div>

						<div class="layui-form-item">
							<label class="layui-form-label required-logo">手机</label>
							<div class="layui-input-inline">
								<input type="text" name="mobilephone" required lay-verify="required|phone" placeholder="请输入您的手机号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label required-logo">邮编</label>
							<div class="layui-input-inline">
								<input type="text" name="zipcode" required lay-verify="required" placeholder="请输入您的邮编号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">邮箱</label>
							<div class="layui-input-inline">
								<input type="text" name="email" required lay-verify="required|email" placeholder="请输入您的邮箱号码" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label required-logo">地址</label>
							<div class="layui-input-block">
								<input type="text" name="deliveraddress" required lay-verify="required" placeholder="请输入您的地址" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<div class="layui-input-block">
								<button class="layui-btn layui-btn-normal" lay-submit>保存</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
        <script src="js/comm-inner-page.js"></script>
         <script>
			layui.use(['form', 'element','table'], function() {
				var table = layui.table;
				comm.bindFilterForm({
					formId: "sender_info_search_form",
					renderTable: {
						elem: '#sender_info_table',
						cols: [
							[{
								checkbox: true
							}, {
								field: 'delivername',
								title: '姓名',
							}, {
								field: 'mobilephone',
								title: '电话',
							}, {
								field: 'deliveraddress',
								title: '地址',
							}, {
								field: 'zipcode',
								title: '邮编',
							}, {
								field: '',
								title: '操作',
								toolbar: '#operation'
							}]
						]
					}
				});
				
				table.on('tool(sender_info_table)', function(obj) {
					var data = obj.data;
					var layEvent = obj.event;
					var tr = obj.tr;

					if(layEvent === 'detail') { //查看详情

					} else if(layEvent === 'delete') { //删除包裹信息
						layer.confirm('是否确认删除该包裹信息1？', function(index) {
							obj.del();
							layer.alert("尚未开发，敬请期待");
						});
					} else if(layEvent === 'edit') { //编辑包裹信息
						layer.open({
							type: 2,
							title: '包裹信息编辑',
							shadeClose: true,
							maxmin: true,
							area: ['80%', '600px'],
						//	content: './package-info-edit.html?id='+data.id
						});

					} else if(layEvent === 'reject') { //包裹退货
						layer.alert("尚未开发，敬请期待");
					}
				});

			});
		</script>
        	<script type="text/html" id="operation">
			<a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="edit">编辑</a>
			<a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="delete">删除</a>
		</script>
        
	</body>

</html>